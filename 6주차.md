# 14 브로드캐스트 리시버 컴포넌트
# 14-1 브로드캐스트 리시버 이해하기
- 브로드캐스트 리시버(`broadcast receiver`) : 이벤트(사용자 이벤트가 아닌 시스템의 특정 상황) 모델로 실행되는 컴포넌트
  - 안드로이드의 컴포넌트이므로 인텐트를 시스템에 전달함으로써 실행함

- 브로드캐스트 리시버 만들기
  ```Kotlin
  class MyReceiver : BroadcastReceiver() {
    override fun onReceive(context: Context, intent: Intent) {
    }
  }
  ```
  - 방법 1 : manifest 파일에 등록
  ```Kotlin
  <receiver
    android:name=".MyReceiver"
    android:enabled="true"
    android:exported="true"></receiver>
  ```

  - 방법 2 : 동적 등록과 해제 -> 특정 액티비티나 서비스가 동작할 때만 broadcast receiver를 실행할 때
    - 리시버 객체 생성
    ```Kotlin
    val receiver = object : BroadcastReceiver() {
      override fun onReceive(context: Context?, intent: Intent?) {
      }
    }
    ```

    - 동적 등록
    ```Kotlin
    registerReceiver(receiver, IntentFilter("ACTION_RECEIVER"), RECEIVER_EXPORTED)
    ```
      - 공개상태 정보 : `RECEIVER_EXPORTED`(explicit intent에 의해 실행), `RECEIVER_NOT_EXPORTED`

    - 해제 (필요없는 경우 해제해 줌)
    ```Kotlin
    unregisterReceiver(receiver)
    ```

    - 실행
      - intent가 필요함.
      - receiver의 클래스명만 등록했을 경우 : class type reference를 사용해 explicit intent로 실행
      - intent filter를 등록했을 경우 : implicit intent로 실행
      ??? 이 부분이 잘 이해되지 않음 ???
      ```Kotlin
      val intent = Intent(this, MyReceiver::class.java)
      sendBroadcast(intent)
      ```
      - 브로드캐스트 리시버는 시스템에 해당 인텐트로 실행될 리시버가 없어도 아무 일도 일어나지 않음
      - intent를 시작한 곳에서 오류 발생하지 않음
      - 실행될 리시버가 여러 개 있으면 모두 실행됨
  
